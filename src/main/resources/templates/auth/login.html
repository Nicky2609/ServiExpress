<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Iniciar sesión</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
    :root { --bg:#f6ece3; --card:#fff; --stroke:#ead8ce; --text:#2b2b2b; --muted:#9a7d72; --brand:#c77462; }
    *{box-sizing:border-box}
    body{min-height:100vh;margin:0;display:grid;place-items:center;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:var(--text)}
    .card{width:min(560px,94vw);background:var(--card);border:1px solid var(--stroke);border-radius:16px;box-shadow:0 12px 28px rgba(0,0,0,.06)}
    .body{padding:28px}
    h1{font-size:2.2rem;margin:0 0 18px}
    .alert{padding:12px 14px;border-radius:12px;margin:10px 0}
    .alert.error{background:#fde8e8;border:1px solid #f4b4b4;color:#8b1a1a}
    .alert.info{background:#eef8ed;border:1px solid #c7e7c0;color:#265d2b}
    .group{margin:14px 0}
    label{font-weight:600;display:block;margin:0 0 6px}
    input{width:100%;padding:12px 14px;border:1px solid #dec6bb;border-radius:12px;font-size:1rem}
    .row{display:flex;gap:12px;margin-top:14px}
    .btn{border-radius:12px;padding:12px 16px;font-weight:700;border:1px solid var(--brand);cursor:pointer}
    .btn.primary{background:var(--brand);color:#fff}
    .btn.ghost{background:transparent;color:var(--brand)}
  </style>
</head>
<body>
<div class="card">
  <div class="body">
    <h1>Iniciar sesión</h1>

    <!-- mensajes -->
    <div class="alert info" th:if="${success}" th:text="${success}">Cuenta creada. ¡Inicia sesión!</div>
    <div class="alert error" th:if="${param.error}">Correo o contraseña incorrectos.</div>
    <div class="alert info" th:if="${param.logout}">Sesión cerrada correctamente.</div>

    <!-- IMPORTANTE: name="username" y action="/auth/login" -->
    <form th:action="@{/auth/login}" method="post">
      <div class="group">
        <label for="username">Correo</label>
        <input id="username" name="username" type="email" placeholder="tucorreo@dominio.com" required>
      </div>
      <div class="group">
        <label for="password">Contraseña</label>
        <input id="password" name="password" type="password" required>
      </div>
      <div class="row">
        <a class="btn ghost" th:href="@{/auth/registro}">Crear cuenta</a>
        <button class="btn primary" type="submit">Entrar</button>
      </div>
    </form>
  </div>
</div>
</body>
</html>