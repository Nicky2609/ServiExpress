<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Detalle de Solicitud</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Fuente Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg:#f7f4f1; --surface:#ffffff; --text:#2a2a2a; --muted:#7a6f68; --border:#eadfd9;
            --primary:#c77462; --primary-600:#a45445; --line:#efdfd7;
        }
        *{box-sizing:border-box}
        body{
            margin:0;color:var(--text);
            background:var(--bg);
            font-family:Poppins,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Noto Sans",sans-serif;
            line-height:1.5;
        }

        /* NAVBAR */
        .navbar{
            position:sticky;top:0;z-index:60;
            background:linear-gradient(90deg,#fdeee6,#f8e3d8);
            border-bottom:1px solid var(--line);
            backdrop-filter:saturate(1.15) blur(6px);
        }
        .navbar .inner{
            max-width:1200px;margin:0 auto;padding:10px 16px;
            display:flex;align-items:center;gap:14px;
        }
        .brand{font-weight:800;font-size:20px;color:var(--primary-600)}
        .brand a{color:inherit;text-decoration:none}

        .nav-actions{display:flex;align-items:center;gap:10px;margin-left:auto}
        .btn{
            display:inline-flex;align-items:center;justify-content:center;gap:8px;
            padding:9px 16px;border-radius:14px;font-weight:700;font-size:14px;text-decoration:none;
            border:1px solid var(--primary);color:var(--primary-600);background:transparent;
            transition:.18s ease;cursor:pointer;
        }
        .btn:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(199,116,98,.20)}
        .btn.solid{background:var(--primary);color:#fff}
        .btn.solid:hover{background:var(--primary-600)}

        /* CARD */
        .wrap{max-width:980px;margin:36px auto;padding:0 16px}
        .card{background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:0 24px 50px rgba(30,15,15,.06);padding:26px;}
        .head{display:flex;align-items:flex-start;justify-content:space-between;gap:16px}
        .title{margin:0;font-size:clamp(26px,3.6vw,36px);line-height:1.15}
        .subtle{color:var(--muted);font-weight:600}
        .grid{margin-top:14px;display:grid;grid-template-columns:210px 1fr;gap:10px 18px}
        .label{color:var(--muted);font-weight:700}
        .value{font-weight:650}
        @media (max-width:640px){ .grid{grid-template-columns:1fr} }
        .actions{margin-top:22px;display:flex;gap:12px;flex-wrap:wrap}
        .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;font-weight:800;border:1px solid var(--border);background:#faf7f5;color:var(--muted)}
    </style>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="Principal">
    <div class="inner">
        <div class="brand"><a th:href="@{/}">ServiExpress</a></div>
        <div class="nav-actions">
            <a class="btn" th:href="@{/servicio}">Servicios</a>
            <a class="btn solid" th:href="@{/solicitud/historial}">Historial</a>
            <form th:action="@{/auth/logout}" method="post" style="margin:0">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <button type="submit" class="btn">Cerrar sesión</button>
            </form>
        </div>
    </div>
</nav>

<main class="wrap">
    <section class="card">

        <div class="head">
            <div>
                <h1 class="title">Detalle de Solicitud</h1>
                <div class="subtle" th:text="'ID: ' + ${solicitud.idSolicitud}">ID: —</div>
            </div>
            <span class="pill" th:text="${solicitud.estado}">ESTADO</span>
        </div>

        <div class="grid">
            <div class="label">Nombre del servicio</div>
            <div class="value" th:text="${solicitud.servicio.nombre}">—</div>

            <div class="label">Descripción</div>
            <div class="value" th:text="${solicitud.servicio.descripcion}">—</div>

            <div class="label">Precio</div>
            <div class="value">$ <span th:text="${solicitud.servicio.precio}">0.00</span> COP</div>

            <div class="label">Proveedor</div>
            <div class="value" th:text="${solicitud.servicio.proveedor != null ? solicitud.servicio.proveedor.nombreUsuario : 'Sin asignar'}">—</div>

            <div class="label">Fecha de solicitud</div>
            <div class="value" th:text="${solicitud.fechaSolicitud}">—</div>

            <div class="label">Especificaciones</div>
            <div class="value" th:text="${solicitud.detalles}">—</div>

            <div class="label">Dirección de servicio</div>
            <div class="value" th:text="${solicitud.direccionEntrega}">—</div>

            <div class="label">Fecha estimada</div>
            <div class="value" th:text="${solicitud.fechaEstimada}">—</div>
        </div>

        <div class="actions">
            <a th:href="@{/solicitud/historial}" class="btn">Volver</a>
        </div>

    </section>
</main>
</body>
</html>